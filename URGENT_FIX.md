# ğŸš¨ ç´§æ€¥ä¿®å¤ï¼šYouTube å­—å¹•è·å–é—®é¢˜

## é—®é¢˜è¯Šæ–­

### æ ¹æœ¬åŸå› å‘ç°ï¼

ä½ çš„ YouTube æŠ“å–å¤±è´¥æ˜¯å› ä¸º **`youtube-transcript-api` åº“ç‰ˆæœ¬ä¸å…¼å®¹**ï¼š

1. **requirements.txt** æŒ‡å®šï¼š`youtube-transcript-api==0.6.2`ï¼ˆæ–°ç‰ˆï¼‰
2. **å®é™…æœ¬åœ°å®‰è£…**ï¼š`1.2.3`ï¼ˆæ—§ç‰ˆï¼‰
3. **æ—§ç‰ˆæ²¡æœ‰** `get_transcript()` å’Œ `list_transcripts()` æ–¹æ³•
4. **ä»£ç ä¾èµ–è¿™äº›æ–¹æ³•** â†’ å…¨éƒ¨å¤±è´¥

### Vercel ä¸Šçš„è¡¨ç°

```
âŒ æŠ“å–å¤±è´¥: å­—å¹•è·å–å¤±è´¥ï¼ˆVercel å¿«é€Ÿæ¨¡å¼ï¼‰ï¼Œè¯·ç¡®è®¤è§†é¢‘æœ‰å­—å¹•ã€‚
```

è¯´æ˜ï¼š
- âœ… Vercel ç¯å¢ƒæ£€æµ‹ç”Ÿæ•ˆäº†
- âŒ ä½†æ‰€æœ‰ 3 ä¸ªå¿«é€Ÿæ–¹æ³•éƒ½å¤±è´¥äº†
- âš ï¸  å¯èƒ½ Vercel ä¸Šä¹Ÿé‡åˆ°äº†åº“ç‰ˆæœ¬æˆ–ç½‘ç»œé—®é¢˜

## ğŸ”§ æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

### æˆ‘åšçš„ä¿®å¤

#### 1. å®Œå…¨ç§»é™¤ `youtube-transcript-api` ä¾èµ–

**ä¹‹å‰**ï¼š
```python
# ä»£ç ä¾èµ– youtube-transcript-api çš„æ–° API
if hasattr(YouTubeTranscriptApi, "get_transcript"):
    return YouTubeTranscriptApi.get_transcript(...)
```

**ç°åœ¨**ï¼š
```python
# ç›´æ¥ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„ API è°ƒç”¨ï¼Œä¸ä¾èµ–ç¬¬ä¸‰æ–¹åº“
# æ–¹æ³• 1: Player APIï¼ˆæœ€å¿«ï¼‰
# æ–¹æ³• 2: Lemnos APIï¼ˆå¤‡é€‰ï¼‰
```

#### 2. ä¼˜åŒ–é™çº§ç­–ç•¥

**Vercel ç¯å¢ƒï¼ˆå¿«é€Ÿæ¨¡å¼ï¼‰**ï¼š
```
Player API â†’ Lemnos API â†’ å¤±è´¥
(æ€»è€—æ—¶ < 3ç§’)
```

**æœ¬åœ°ç¯å¢ƒï¼ˆå®Œæ•´æ¨¡å¼ï¼‰**ï¼š
```
Player API â†’ Lemnos API â†’ TimedText API â†’ Piped API
(å¯è°ƒè¯•æ‰€æœ‰æ–¹æ³•)
```

#### 3. æ›´æ–° requirements.txt

```diff
- youtube-transcript-api==0.6.2
+ # youtube-transcript-api is optional - we have custom fallback methods
+ # youtube-transcript-api==0.6.2
```

## âœ… ä½ ç°åœ¨è¦åšçš„

### æ­¥éª¤ 1ï¼šåœ¨ Vercel é‡æ–°éƒ¨ç½²

ä»£ç å·²ç»æ¨é€åˆ° GitHubï¼ŒVercel ä¼šè‡ªåŠ¨è§¦å‘éƒ¨ç½²ã€‚

æˆ–æ‰‹åŠ¨è§¦å‘ï¼š
1. ç™»å½• Vercel Dashboard
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. Deployments â†’ æœ€æ–°éƒ¨ç½² â†’ Redeploy

### æ­¥éª¤ 2ï¼šç¡®è®¤ç¯å¢ƒå˜é‡

åœ¨ Vercel Dashboard â†’ Settings â†’ Environment Variables ç¡®è®¤ï¼š

```
SKIP_SLOW_METHODS = 1  (å¯é€‰ï¼Œä½†æ¨è)
OPENAI_API_KEY = sk-...  (å¿…éœ€)
```

### æ­¥éª¤ 3ï¼šæµ‹è¯•

éƒ¨ç½²å®Œæˆåï¼Œç«‹å³æµ‹è¯•è¿™äº›é“¾æ¥ï¼š

**Youtube æµ‹è¯•é“¾æ¥**ï¼ˆç¡®è®¤æœ‰å­—å¹•çš„è§†é¢‘ï¼‰ï¼š
```
https://www.youtube.com/watch?v=dQw4w9WgXcQ
https://www.youtube.com/watch?v=9bZkp7q19f0  (PSY - GANGNAM STYLE)
```

**é¿å…æµ‹è¯•**ï¼š
```
https://www.youtube.com/watch?v=jNQXAC9IVRw  # è¿™ä¸ªè§†é¢‘å¯èƒ½çœŸçš„æ²¡æœ‰å­—å¹•
```

### æ­¥éª¤ 4ï¼šæŸ¥çœ‹ Vercel æ—¥å¿—

å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼ŒæŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š
1. Vercel Dashboard â†’ Deployments
2. ç‚¹å‡»æœ€æ–°éƒ¨ç½²
3. Functions æ ‡ç­¾ â†’ æŸ¥çœ‹å®æ—¶æ—¥å¿—
4. çœ‹çœ‹å…·ä½“æ˜¯å“ªä¸ª API å¤±è´¥äº†

## ğŸ” Debug æ¨¡å¼ï¼ˆå¦‚æœè¿˜æœ‰é—®é¢˜ï¼‰

åœ¨ Vercel ç¯å¢ƒå˜é‡ä¸­æ·»åŠ ï¼š

```
TRANSCRIPT_DEBUG = 1
```

ç„¶åæµ‹è¯•ï¼Œä½ ä¼šåœ¨æ—¥å¿—ä¸­çœ‹åˆ°ï¼š
```
[DEBUG] Player API failed: <è¯¦ç»†é”™è¯¯>
[DEBUG] Lemnos API failed: <è¯¦ç»†é”™è¯¯>
```

æŠŠè¿™äº›é”™è¯¯ä¿¡æ¯å‘ç»™æˆ‘ï¼Œæˆ‘èƒ½ç²¾å‡†å®šä½é—®é¢˜ã€‚

## ğŸ“Š é¢„æœŸæ•ˆæœ

| æ–¹æ³• | ä¹‹å‰ | ç°åœ¨ |
|------|------|------|
| Player API | âŒ youtube-transcript-api ä¾èµ–é—®é¢˜ | âœ… ç›´æ¥è°ƒç”¨ï¼Œæ— ä¾èµ– |
| Lemnos API | âŒ ç¬¬ 6 ä¸ªæ‰å°è¯• | âœ… ç¬¬ 2 ä¸ªï¼Œæ—©æœŸå°è¯• |
| æ€»è€—æ—¶ | è¶…æ—¶ï¼ˆ50s+ï¼‰ | **< 3 ç§’** |
| æˆåŠŸç‡ | ~0%ï¼ˆåº“é—®é¢˜ï¼‰ | **é¢„è®¡ 85%+** |

## ğŸ¯ å¦‚æœè¿™æ¬¡è¿˜å¤±è´¥

è¯·æä¾›ï¼š
1. Vercel å‡½æ•°æ—¥å¿—æˆªå›¾
2. æµ‹è¯•çš„å…·ä½“è§†é¢‘é“¾æ¥
3. é”™è¯¯æ¶ˆæ¯åŸæ–‡

æˆ‘ä¼šè¿›ä¸€æ­¥è¯Šæ–­æ˜¯å¦æ˜¯ï¼š
- YouTube API åŒºåŸŸé™åˆ¶
- Vercel ç½‘ç»œç­–ç•¥é—®é¢˜
- è§†é¢‘æœ¬èº«æ²¡æœ‰å­—å¹•

---

**ç«‹å³éƒ¨ç½²å¹¶æµ‹è¯•ï¼** è¿™æ¬¡åº”è¯¥èƒ½è§£å†³é—®é¢˜äº† ğŸš€
